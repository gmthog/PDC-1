 CREATE TABLE Product(
    pid VARCHAR(50),
    name VARCHAR(50),
    price FLOAT,
    num_sold INT,
    num_stock INT,
    PRIMARY KEY (pid),
    CHECK (num_sold >= 0),
    CHECK ( num_stock >= 0)
);

CREATE TABLE Customer(
    cid VARCHAR(50),
    firstname VARCHAR(50),
    lastname VARCHAR(50),
    phone INT(50),
    age INT (10),
    PRIMARY KEY (cid)
);

CREATE TABLE purchase (
    quantity INT(50),
    cid VARCHAR(50),
    pid VARCHAR(50),
    PRIMARY KEY (cid, pid),
    FOREIGN KEY (cid) REFERENCES Customer(cid),
    FOREIGN KEY (pid) REFERENCES Product(pid),
    CHECK (quantity >= 0)
);

CREATE TABLE MemberAccount(
    acc_id VARCHAR(50),
    firstname VARCHAR(50),
    lastname VARCHAR(50),
    point FLOAT,
    type VARCHAR(50),
    cid VARCHAR(50) NOT NULL,
    PRIMARY KEY (acc_id),
    FOREIGN KEY(cid) REFERENCES Customer(cid)
);

CREATE TABLE Staff(
    id         VARCHAR(10),
    firstname  VARCHAR(20),
    lastname   VARCHAR(20),
    hphone     VARCHAR(20),
    wphone     VARCHAR(20),
    address    VARCHAR(100),
    position   VARCHAR(50),
    start_date DATE,
    end_date   DATE,
    salary     FLOAT,
    PRIMARY KEY (id)
);

CREATE TABLE Service(
    sid VARCHAR(10),
    name VARCHAR(50),
    price FLOAT,
    type VARCHAR(50),
    PRIMARY KEY (sid)
);

CREATE TABLE Schedule(
    bcode VARCHAR(50),
    cus_id VARCHAR(50),
    staff_id VARCHAR(50),
    service_id VARCHAR(50),
    time VARCHAR(50),
    date DATE,
    PRIMARY KEY(bcode),
    FOREIGN KEY (cus_id) REFERENCES Customer(cid),
    FOREIGN KEY (staff_id) REFERENCES Staff(id),
    FOREIGN KEY (service_id) REFERENCES Service(sid)
)
